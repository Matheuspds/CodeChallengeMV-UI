<!--The content below is only a placeholder and can be replaced.-->
<p-panel header="Listagem de Pessoas">
  <div class="ui-g">
    <div class="ui-g-2">
      <span class="ui-float-label">
        <input id="float-input" type="text" pInputText [(ngModel)]="pessoaSearch">
        <label for="float-input">Nome</label>
      </span>
    </div>
    <div class="ui-g-2">
      <span class="ui-float-label">
        <p-inputMask mask="999.999.999-99"  [(ngModel)]="cpfSearch"></p-inputMask>
        <label for="float-input">CPF</label>
      </span>
    </div>
    <div class="ui-g-1">
      <button pButton label="Pesquisar" class="ui-button-secondary" (click)="search(dt)"></button>
    </div>
    <div class="ui-g-1">
      <button pButton label="Cadastrar" routerLink="/cadastro"></button>
    </div>
  </div>

  <p-confirmDialog header="Confirmação" icon="pi pi-exclamation-triangle" width="425"></p-confirmDialog>

  <p-table #dt [value]="pessoas">
    <ng-template pTemplate="header">
      <tr>
        <th>ID</th>
        <th>Nome</th>
        <th>E-mail</th>
        <th>CPF</th>
        <th>Idade</th>
        <th>Quantidade de Telefones</th>
        <th>Ações</th>
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-pessoa>
      <tr>
        <td>{{pessoa.id}}</td>
        <td>{{pessoa.nome}}</td>
        <td>{{pessoa.email}}</td>
        <td>{{pessoa.cpf}}</td>
        <td>{{calculateIdade(pessoa.dataNascimento)}} anos</td>
        <td>{{pessoa.listTelefone.length}}</td>
        <td><button pButton class="ui-button-success" label="Editar" (click)="editPessoa(pessoa)"></button>
          | <button pButton class="ui-button-danger" label="Deletar" (click)="deletePessoa(pessoa.id)"></button>
        </td>
      </tr>
    </ng-template>
  </p-table>
</p-panel>